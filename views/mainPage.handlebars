<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/bootstrap-theme.css" rel="stylesheet">

	<link href="css/navbar.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
  <link href="css/searchbar.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="/js/bootstrap.js"></script>


  <script type="text/javascript">
  $(document).ready(()=>{
      $('#searchButton').click(() => {
            console.log("button clicked");
            const searchName = $('#searchBar').val()
            const requestURL = 'data/' + searchName;
             console.log('making ajax request to:', requestURL);

            $.ajax({
                 url: requestURL,
                 type: 'GET',
                 dataType : 'json', // this URL returns data in JSON format
                 success: (data) => {
                 console.log('You received some data!', data);

                 if (data[0].favSong && data[0].img) {
                   $('#searchResult').html("<p>"+searchName+"'s Favorite Song: "+data[0].favSong+"</p>");
                   $('#searchImage').attr('src', data[0].img);
                   $('#searchImage').attr('style', 'display:block');

                } else {
                  $('#searchResult').html('User not found!!');
                  // clear the display
                }
              },

            });
  });
    });
  </script>
</head>

<body>


  <!-- Hamburger Menu -->
	<nav role="navigation">
		<div id="menuToggle">
   	 		<!-- A fake / hidden checkbox is used as click reciever, so you can use the :checked selector on it.-->
 	   		
 	   		<input type="checkbox" />
    
 	   		<!--Some spans to act as a hamburger.-->
  	  		<span></span>
  	  		<span></span>
  	  		<span></span>
   	  		<ul id="menu">
   	   			<a href="#"><li>Home</li></a>
   	   			<a href="friends"><li>Friends</li></a>
  	    		<!-- <a href="myProfile"><li>My Profile</li></a> -->
  	    		<!-- <a href="#"><li>Settings</li></a> -->
            <a href="/"><li>Sign Out</li></a>
   			</ul>
  		</div>
	</nav>

    <h1 class="text-center">musaic</h1>

    <h2 class="text-center">Music Tastes</h2>

    <h4 class="text-center">Favorite Songs</h3>

    <!-- form -->
    <form class="form-inline md-form form-sm active-pink active-pink-2">
      <i class="fa fa-search" aria-hidden="true"></i>
      <input class="form-control form-control-sm ml-3 w-75" id="searchBar" type="text" placeholder="Search Friend's Name" aria-label="Search">
      <button type="button" class="btn btn-info" id="searchButton">
        <span class="glyphicon glyphicon-search"></span> Search
      </button>
    </form>
  <div class="container-fluid text-center">
      <div class="row">
    <div id="searchResult" class="col-sm-2"></div>
    <a href="/profile"><img id="searchImage" class="profilePic" src=""></a>
  </div>
</div>

      <!--User profiles -->
      <div class="container-fluid text-center">
        <div class="row">
          <a href="/profile"><img class="profilePic col-sm-2" src="css/ProfilePics/hunter.jpg"></a>
          <div class="col-sm-2">
            <h3>User Name</h3>
            <h4>Artist Name</h4>
            <h4>Song Name</h4>
          </div>

           <a href="/profile"><img class="profilePic col-sm-2" src="css/ProfilePics/hunter.jpg"></a>
          <div class="col-sm-2">
            <h3>User Name</h3>
            <h4>Artist Name</h4>
            <h4>Song Name</h4>
          </div>


         <a href="/profile"><img class="profilePic col-sm-2" src="css/ProfilePics/hunter.jpg"></a>
          <div class="col-sm-2">
            <h3>User Name</h3>
            <h4>Artist Name</h4>
            <h4>Song Name</h4>
          </div>
        </div>
      </div>

      <div class="container-fluid text-center">
        <div class="row">
          <a href="/profile"><img class="profilePic col-sm-2" src="css/ProfilePics/hunter.jpg"></a>
          <div class="col-sm-2">
            <h3>User Name</h3>
            <h4>Artist Name</h4>
            <h4>Song Name</h4>
          </div>

           <a href="/profile"><img class="profilePic col-sm-2" src="css/ProfilePics/hunter.jpg"></a>
          <div class="col-sm-2">
            <h3>User Name</h3>
            <h4>Artist Name</h4>
            <h4>Song Name</h4>
          </div>


         <a href="/profile"><img class="profilePic col-sm-2" src="css/ProfilePics/hunter.jpg"></a>
          <div class="col-sm-2">
            <h3>User Name</h3>
            <h4>Artist Name</h4>
            <h4>Song Name</h4>
          </div>
        </div>
      </div>

</body>
</html>
